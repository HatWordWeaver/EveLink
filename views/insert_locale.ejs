<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link href="/css/style.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif&display=swap" rel="stylesheet">
    <title>Evelink</title>
</head>
<body>
    <div id="page-container" class="normal_back">
        <div id="content-wrap">
            <%- include("navbar.ejs", {type, admin}) %>

            <%if(insert) { %>
    
                <div class="container mt-5mx-auto vertical-center mb-5 rounded custom_height_pages" id="input_container">
                    <form action="/insert-local" method="post">
                        <% if(failure) { %>
                            <div class="row">
                                <div class="alert alert-danger alert-dismissible fade show text-center w-100 mt-3 mx-auto" role="alert">
                                <strong>Errore: <%= error %></strong>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        <% } %>
                        <div class="row mt-3 mb-3">
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="inputEmail" class="form_label-login">Indirizzo email</label>
                                    <input type="email" class="form-control mx-auto" id="input_bar" name = "email" value="<%= failure ? insertedMail : '' %>" placeholder="name@example.com">
                                </div>
                            </div>

                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="inputPassword" class="form_label-login">Password</label>
                                    <input type="password" id="input_bar" class="form-control mx-auto" value="<%= failure ? insertedPassword : '' %>" name = "password" aria-labelledby="passwordHelpBlock">
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="nome_locale" class="form_label-login">Nome del locale</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" value="<%= failure ? insertedNomeLocale : '' %>" name= "nomeLocale" placeholder="inserisci un nome...">
                                </div>
                            </div>
                            
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="indirizzo_locale" class="form_label-login">Indirizzo del locale</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" value="<%= failure ? insertedIndirizzoLocale : '' %>" name ="indirizzoLocale"placeholder="inserisci un indirizzo...">
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="citta_paese" class="form_label-login">Città/paese</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" name ="cittaPaese" value="<%= failure ? insertedCittaPaese : '' %>" placeholder="inserisci una città o un paese...">
                                </div>
                            </div>
                            
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="CAP_locale" class="form_label-login">CAP</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" name ="CAPLocale" value="<%= failure ? insertedCAPLocale : '' %>" placeholder="inserisci un CAP...">
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <div class="mt-3 text-center">
                                <label for="provincia_locale" class="form_label-login">Provincia</label>
                                <input type="text" class="form-control mx-auto" id="input_bar" name ="provinciaLocale" value="<%= failure ? insertedProvinciaLocale : '' %>" placeholder="inserisci una Provincia...">
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <button type="submit" class="btn bg-site mt-3 mx-auto button_custom_width">Registrati</button>
                        </div>

                        <div class="row">
                            <div class="text-center mb-2">
                                <a class=" centered phrase_login" href="/login"> Possiedi un account? Accedi</a>
                            </div>
                        </div>
                        <div class="row">
                            <div class="text-center mb-2">
                                <a class=" centered phrase_login" href="/register"> Sei un utente? Registrati qui!</a>
                            </div>
                        </div>
                        </div>
                    </form>
                </div>
                
            <%}else { %>
                <figure class="text-center">
                    <blockquote class="blockquote">
                        <h2>Modifica i dati del locale</h2>
                    </blockquote>
                </figure>


                <div class="container mt-5  border border-2 mx-auto vertical-center mb-5 rounded custom_height_pages custom_back_2" id="input_container">
                    <form action="/locali/<%= localDetails.proprietario%>/modify" method="post">
                        <% if(failure) { %>
                            <div class="row">
                                <div class="alert alert-danger alert-dismissible fade show text-center w-100 mt-3 mx-auto" role="alert">
                                <strong>Errore: <%= error %></strong>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        <% } %>
                        <div class="row mt-3 mb-3">
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="nome_locale" class="form_label-login">Nome del locale</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" name= "nomeLocale"  value="<%= localDetails.nome %>" placeholder="inserisci un nome...">
                                </div>
                            </div>
                            
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="indirizzo_locale" class="form_label-login">Indirizzo del locale</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" name ="indirizzoLocale" value="<%= localDetails.indirizzo %>" placeholder="inserisci un indirizzo...">
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="citta_paese" class="form_label-login">Città/paese</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" name ="cittaPaese" value="<%= localDetails.citta %>" placeholder="inserisci una città o un paese...">
                                </div>
                            </div>
                            
                            <div class="col text-center">
                                <div class="mt-3">
                                    <label for="CAP_locale" class="form_label-login">CAP</label>
                                    <input type="text" class="form-control mx-auto" id="input_bar" name ="CAPLocale" value="<%= localDetails.CAP %>" placeholder="inserisci un CAP...">
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <div class="mt-3 text-center">
                                <label for="provincia_locale" class="form_label-login">Provincia</label>
                                <input type="text" class="form-control mx-auto" id="input_bar" name ="provinciaLocale" value="<%= localDetails.provincia %>" placeholder="inserisci una Provincia...">
                            </div>
                        </div>

                        <div class="row mt-3 mb-3">
                            <button type="submit" class="btn bg-site mt-4 mx-auto button_custom_width">Modifica</button>
                        </div>
                    </form>
                </div>
             <%} %>
            

            <%- include("footer.ejs") %>
        </div>

    </div>
    <script src="/js/bootstrap.bundle.min.js"></script>
</body>


</html>